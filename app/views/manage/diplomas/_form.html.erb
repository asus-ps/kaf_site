  <%= f.error_messages %>
<table>
  <tr>
    <th>Тема диплома:</th>
    <td><%=h f.text_field :name %></td>
  </tr>

  <tr>
    <th>Год защиты:</th>
    <td><%=h f.select(:protection_year,  years_mass(30) , :prompt => @diploma.protection_year ) %></td>
  </tr>

  <tr>
    <th>Выполнил</th>
    <td><%=h f.select(:student_id, options_for_select( Student.all.collect { |p| ["#{p.person.last_name} #{p.person.first_name} #{p.person.patronymic_name} , #{p.speciality.short_name.empty? ? (p.speciality.name) : (p.speciality.short_name)}", p.person.id]}, selected_value=@diploma.student_id)) %> <%= link_to 'New', new_manage_student_path %></td>
  </tr>

  <tr>
    <th>Руководитель</th>
    <td><%=h f.select(:teacher_id, options_for_select( Teacher.all.collect { |p| ["#{p.person.last_name} #{p.person.first_name} #{p.person.patronymic_name}, #{p.degree.short_name}", p.person.id]}, selected_value=@diploma.teacher_id)) %> <%= link_to 'New', new_manage_teacher_path %></td>
  </tr>

  <tr>
    <th valign="top">Аннотация:</th>
      <td><%=h f.text_area(:summary,:class => 'BodyComment') %></td>
    </tr>
  <tr>
    <td></td>
    <td align="right"><%= f.submit but %></td>
  </tr>
</table>

